{% extends 'base.html' %}
{% load static %}
{% block title %}ìˆ¨íƒ„ê²ƒ - ì¹¼ëŸ¼ê¸€{% endblock %}
{% block link %}{% static 'css/columns.css' %}{% endblock %}


{% block main %}
<section class="jumbotron text-center" style="padding-top: 200px;">
    <div class="container">
        <h1 class="hi">ìš°ë¦¬ ëª¨ë‘ëŠ” ì„œë¡œì˜ ìš´ëª…ì´ë‹¤</h1>
        <p class="lead text-muted">ë©¸ì¢…ìœ„ê¸°ë™ë¬¼ê³¼ í•¨ê»˜ ì‚´ì•„ê°€ëŠ” ì„¸ìƒì„ ë§Œë“¤ê¸° ìœ„í•œ<br>ê³µì¡´ê³¼ í™”í•´ì˜ ë©”ì‹œì§€</p>
    </div>
</section>
<div class="column-body">
    <h1>{{ column.title }}</h1>
    <hr class="mb-4">
    <p>{{ column.content | safe }}</p>

    {% if user.is_authenticated %}
    <div class="text-right">
        <a class="btn btn-outline-secondary" href="{% url 'columns_update' column.id %}" role="button">ìˆ˜ì •</a>
        &nbsp;&nbsp;
        <a class="btn btn-outline-danger" href="{% url 'columns_delete' column.id %}" role="button">ì‚­ì œ</a>
    </div>
    {% endif %}

    <hr class="mb-4">

    {% if user.is_authenticated %}
    <form method="POST" action="{% url 'create_comment' column.id %}">
        {% csrf_token %}
        {{ comment_form }}
        <input class="btn btn-sm btn-outline-secondary mb-1" type="submit" value="í™•ì¸">
    </form>
    {% endif %}

    <hr class="mb-4">
    {% for comment in column.comment_set.all %}
    <div class="mt-4">
        {{ comment.author }} ğŸ”Š {{ comment.content|linebreaksbr }}
        {% if user == comment.author %}
        <div class="text-right">
            <a href="{% url 'delete_comment' column.id comment.id %}" class="text-right">
                <button class="btn btn-sm btn-outline-danger">ì‚­ì œ</button>
            </a>
        </div>
        {% endif %}
        <p class="text-right">{{ comment.created_at }}</p>
    </div>
    <hr class="mb-4">
    {% endfor %}
</div>
{% endblock %}